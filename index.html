<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1a1a2e">
    <meta name="description" content="YOURPG - Gamified Self-Improvement App">
    <title>YOURPG</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Main Screen -->
    <div id="app" class="screen active">
        <!-- Header -->
        <header class="header">
            <button id="settingsBtn" class="header-btn" aria-label="Settings">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58a.49.49 0 00.12-.61l-1.92-3.32a.49.49 0 00-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 00-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96a.49.49 0 00-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58a.49.49 0 00-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
                </svg>
            </button>
            <div class="title-section">
                <h1 class="app-title">YOURPG</h1>
                <div class="level-display">Level <span id="levelNum">1</span></div>
            </div>
            <button id="proBtn" class="header-btn" aria-label="Pro Features">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"/>
                </svg>
            </button>
        </header>

        <!-- EXP Display -->
        <div class="exp-section compact">
            <div class="exp-label">TODAY'S EXP</div>
            <div id="expDisplay" class="exp-value">0</div>
            <div id="statusBadge" class="status-badge neutral">NEUTRAL</div>
        </div>

        <!-- EXP Buttons -->
        <div class="exp-buttons compact">
            <button class="exp-btn gold large" data-exp="50">+50 EXP</button>
            <button class="exp-btn gold" data-exp="10">+10 EXP</button>
            <button class="exp-btn purple" data-exp="-10">-10 EXP</button>
            <button class="exp-btn purple large" data-exp="-50">-50 EXP</button>
        </div>

        <!-- Boss Battle Buttons -->
        <div class="boss-section compact">
            <button id="dailyBossBtn" class="boss-btn">
                <span class="boss-icon">‚öîÔ∏è</span>
                <span class="boss-text">Daily</span>
            </button>
            <button id="weeklyBossBtn" class="boss-btn">
                <span class="boss-icon">üêâ</span>
                <span class="boss-text">Weekly</span>
            </button>
            <button id="monthlyBossBtn" class="boss-btn">
                <span class="boss-icon">üëπ</span>
                <span class="boss-text">Monthly</span>
            </button>
        </div>

        <!-- My Month Button -->
        <button id="myMonthBtn" class="my-month-btn">
            <span>üìÖ</span> My Month
        </button>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Settings</h2>
                <button class="close-btn" data-close="settingsModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-item">
                    <label for="soundToggle">Sound Effects</label>
                    <label class="toggle">
                        <input type="checkbox" id="soundToggle" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                <div class="setting-item">
                    <label for="notificationToggle">Notifications</label>
                    <label class="toggle">
                        <input type="checkbox" id="notificationToggle" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                <div class="setting-item">
                    <label>Permission Status</label>
                    <button id="requestNotifBtn" class="action-btn small">Enable</button>
                </div>
                <div class="setting-item">
                    <label for="notificationFreq">Notification Frequency</label>
                    <select id="notificationFreq">
                        <option value="30">Every 30 min</option>
                        <option value="60" selected>Every hour</option>
                        <option value="120">Every 2 hours</option>
                    </select>
                </div>
                <div class="settings-divider">Day Settings</div>
                <div class="setting-item">
                    <label for="dailyResetTime">Day Resets At</label>
                    <select id="dailyResetTime">
                        <option value="0" selected>Midnight</option>
                        <option value="3">3:00 AM</option>
                        <option value="4">4:00 AM</option>
                        <option value="5">5:00 AM</option>
                        <option value="6">6:00 AM</option>
                    </select>
                </div>
                <div class="settings-divider">Boss Battle Schedule</div>
                <div class="setting-item">
                    <label for="dailyBossTime">Daily Boss Time</label>
                    <select id="dailyBossTime">
                        <option value="18">6:00 PM</option>
                        <option value="19">7:00 PM</option>
                        <option value="20">8:00 PM</option>
                        <option value="21" selected>9:00 PM</option>
                        <option value="22">10:00 PM</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label for="weeklyBossDay">Weekly Boss Day</label>
                    <select id="weeklyBossDay">
                        <option value="0" selected>Sunday</option>
                        <option value="1">Monday</option>
                        <option value="5">Friday</option>
                        <option value="6">Saturday</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label for="monthlyBossDay">Monthly Boss Day</label>
                    <select id="monthlyBossDay">
                        <option value="last" selected>Last day</option>
                        <option value="1">1st</option>
                        <option value="15">15th</option>
                        <option value="28">28th</option>
                    </select>
                </div>
                <div class="settings-divider">Boss Questions</div>
                <div class="setting-actions">
                    <button id="customizeBossBtn" class="action-btn">Customize Questions</button>
                </div>
                <div class="setting-actions">
                    <button id="resetDayBtn" class="action-btn warning">Reset Today's EXP</button>
                    <button id="viewHistoryBtn" class="action-btn">View Calendar</button>
                </div>
                <div class="settings-divider">Danger Zone</div>
                <div class="setting-actions">
                    <button id="wipeDataBtn" class="action-btn warning">Wipe All Local Data</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Pro Modal -->
    <div id="proModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Pro Features</h2>
                <button class="close-btn" data-close="proModal">&times;</button>
            </div>
            <div class="modal-body pro-features">
                <div class="pro-feature locked">
                    <span class="feature-icon">üìä</span>
                    <span class="feature-text">Monthly Graphs</span>
                    <span class="lock-icon">üîí</span>
                </div>
                <div class="pro-feature locked">
                    <span class="feature-icon">‚öôÔ∏è</span>
                    <span class="feature-text">Custom Boss Questions</span>
                    <span class="lock-icon">üîí</span>
                </div>
                <div class="pro-feature locked">
                    <span class="feature-icon">üìà</span>
                    <span class="feature-text">Advanced Statistics</span>
                    <span class="lock-icon">üîí</span>
                </div>
                <div class="pro-feature locked">
                    <span class="feature-icon">üé®</span>
                    <span class="feature-text">Custom Themes</span>
                    <span class="lock-icon">üîí</span>
                </div>
                <button class="buy-pro-btn">Buy Full Version - $4.99</button>
            </div>
        </div>
    </div>

    <!-- Boss Battle Modal -->
    <div id="bossModal" class="modal">
        <div class="modal-content boss-modal">
            <div class="modal-header">
                <h2 id="bossTitle">Daily Boss Battle</h2>
                <div class="boss-progress">
                    <span id="bossProgress">1/10</span>
                </div>
            </div>
            <div class="modal-body">
                <div class="boss-question">
                    <p id="bossQuestion">Did you meditate or do breathwork for at least 10 minutes?</p>
                </div>
                <div class="boss-exp-info">
                    <span class="yes-exp" id="yesExp">YES: +100 EXP</span>
                    <span class="no-exp" id="noExp">NO: -200 EXP</span>
                </div>
                <div class="boss-buttons">
                    <button id="bossYesBtn" class="boss-answer-btn yes">YES</button>
                    <button id="bossNoBtn" class="boss-answer-btn no">NO</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Boss Complete Modal -->
    <div id="bossCompleteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Battle Complete!</h2>
            </div>
            <div class="modal-body boss-complete">
                <div id="bossResult" class="boss-result">
                    <span class="result-icon">‚öîÔ∏è</span>
                    <span class="result-exp" id="resultExp">+500 EXP</span>
                </div>
                <p id="bossMessage">You defeated the Daily Boss!</p>
                <button class="close-boss-btn" data-close="bossCompleteModal">Continue</button>
            </div>
        </div>
    </div>

    <!-- My Month Modal -->
    <div id="myMonthModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="monthTitle">January 2026</h2>
                <button class="close-btn" data-close="myMonthModal">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Stats Row -->
                <div class="month-stats">
                    <div class="stat-box">
                        <div class="stat-value" id="totalExpStat">0</div>
                        <div class="stat-label">Total EXP</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="streakStat">0</div>
                        <div class="stat-label">Day Streak</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="levelStat">1</div>
                        <div class="stat-label">Level</div>
                    </div>
                </div>
                <!-- Calendar -->
                <div class="calendar">
                    <div class="calendar-header">
                        <span>S</span><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span>
                    </div>
                    <div id="calendarGrid" class="calendar-grid">
                        <!-- Days populated dynamically -->
                    </div>
                </div>
                <!-- Legend -->
                <div class="calendar-legend">
                    <span class="legend-item"><span class="legend-dot hero"></span> Hero</span>
                    <span class="legend-item"><span class="legend-dot worm"></span> Worm</span>
                    <span class="legend-item"><span class="legend-dot neutral"></span> Neutral</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Daily Quote Modal -->
    <div id="quoteModal" class="modal mandatory">
        <div class="quote-container">
            <div class="quote-card">
                <div class="quote-icon">üí≠</div>
                <p id="dailyQuoteText" class="quote-text">Quote goes here</p>
                <button id="dismissQuoteBtn" class="dismiss-quote-btn">‚Üí</button>
            </div>
            <p class="swipe-dismiss">Tap arrow or swipe to dismiss</p>
        </div>
    </div>

    <!-- Awards Modal (Weekly/Monthly) -->
    <div id="awardsModal" class="modal mandatory">
        <div class="modal-content awards-modal">
            <div class="modal-header">
                <h2 id="awardsTitle">Weekly Rewards</h2>
            </div>
            <div class="modal-body">
                <p class="awards-subtitle" id="awardsSubtitle">Based on your daily boss battles</p>
                <div id="awardsList" class="awards-container">
                    <!-- Awards populated dynamically -->
                </div>
                <div id="totalAwardsExp" class="total-awards-exp positive">Total: +500 EXP</div>
                <button id="claimAwardsBtn" class="claim-awards-btn">Claim Rewards</button>
            </div>
        </div>
    </div>

    <!-- Level Up Modal -->
    <div id="levelUpModal" class="modal">
        <div class="modal-content level-up">
            <div class="level-up-content">
                <div class="level-up-icon">‚¨ÜÔ∏è</div>
                <h2>LEVEL UP!</h2>
                <div class="new-level">Level <span id="newLevel">2</span></div>
                <button class="close-boss-btn" data-close="levelUpModal">Continue</button>
            </div>
        </div>
    </div>

    <!-- Boss Reminder Modal (mandatory - no close button) -->
    <div id="bossReminderModal" class="modal mandatory">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Boss Battles Await!</h2>
            </div>
            <div class="modal-body">
                <p class="reminder-text">Complete your boss battles to continue:</p>
                <div id="pendingBattlesList" class="pending-battles">
                    <!-- Populated dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- Onboarding Modal (unskippable, swipeable cards) -->
    <div id="onboardingModal" class="modal mandatory">
        <div class="onboarding-container">
            <div class="onboarding-cards" id="onboardingCards">
                <!-- Card 1 -->
                <div class="onboarding-card active" data-card="0">
                    <div class="card-content">
                        <h1 class="card-title gold">Are you a HERO or a WORM?</h1>
                    </div>
                </div>
                <!-- Card 2 -->
                <div class="onboarding-card" data-card="1">
                    <div class="card-content">
                        <p>Your mind is always seeking to preserve what is familiar since it is interpreted as <strong>safe</strong>, even if it's bad for you.</p>
                    </div>
                </div>
                <!-- Card 3 -->
                <div class="onboarding-card" data-card="2">
                    <div class="card-content">
                        <p>This app <strong>breaks the pattern</strong>.</p>
                        <p class="mt">Assigning <span class="purple">minus EXP</span> means you make the choice to label that behavior as <strong>bad</strong>.</p>
                    </div>
                </div>
                <!-- Card 4 -->
                <div class="onboarding-card" data-card="3">
                    <div class="card-content">
                        <p>You will start to see junk food as <strong>poison</strong>.</p>
                        <p class="purple mt">Worm behavior.</p>
                        <p class="muted mt">Not as a delicious treat.</p>
                    </div>
                </div>
                <!-- Card 5 -->
                <div class="onboarding-card" data-card="4">
                    <div class="card-content">
                        <p>You will see alcohol as <strong>poison</strong>.</p>
                        <p class="purple mt">Worm behavior.</p>
                        <p class="muted mt">Not as a fun thing.</p>
                    </div>
                </div>
                <!-- Card 6 -->
                <div class="onboarding-card" data-card="5">
                    <div class="card-content">
                        <p>If these thoughts make you uncomfortable then you are <strong>not ready</strong> to be a hero.</p>
                        <p class="muted mt">Delete this app and return to your worm life.</p>
                        <p class="muted">You are not ready to awaken to the adventure of life.</p>
                    </div>
                </div>
                <!-- Card 7 -->
                <div class="onboarding-card" data-card="6">
                    <div class="card-content">
                        <h2 class="gold">But if you choose to stay...</h2>
                    </div>
                </div>
                <!-- Card 8 -->
                <div class="onboarding-card" data-card="7">
                    <div class="card-content">
                        <p>Within just <strong class="gold">3 days</strong> of using this app, you will be a stronger person.</p>
                        <p class="mt">Within <strong class="gold">60 days</strong> you will be unrecognizable.</p>
                        <p class="gold mt large">You will be a HERO.</p>
                    </div>
                </div>
                <!-- Card 9 -->
                <div class="onboarding-card" data-card="8">
                    <div class="card-content">
                        <p>Think of behaviors you want to do that award you <span class="gold">+EXP</span>.</p>
                        <p class="muted mt">Is it worth +10 or +50?</p>
                    </div>
                </div>
                <!-- Card 10 -->
                <div class="onboarding-card" data-card="9">
                    <div class="card-content examples">
                        <p class="gold">+EXP Examples:</p>
                        <ul>
                            <li>Waking up earlier</li>
                            <li>A 25 min study session</li>
                            <li>Doing that task you avoid</li>
                            <li>Eating real food</li>
                            <li>Brushing teeth after meals</li>
                        </ul>
                    </div>
                </div>
                <!-- Card 11 -->
                <div class="onboarding-card" data-card="10">
                    <div class="card-content">
                        <p>Now think of behaviors you want to <strong>stop</strong>.</p>
                        <p class="muted mt">Is it -10 or -50 <span class="purple">EXP</span>?</p>
                    </div>
                </div>
                <!-- Card 12 -->
                <div class="onboarding-card" data-card="11">
                    <div class="card-content examples">
                        <p class="purple">-EXP Examples:</p>
                        <ul>
                            <li>Things that make you disgusting</li>
                            <li>Eating processed junk</li>
                            <li>Scrolling social media</li>
                            <li>Taking life for granted</li>
                        </ul>
                    </div>
                </div>
                <!-- Card 13 -->
                <div class="onboarding-card" data-card="12">
                    <div class="card-content">
                        <p>This app will send you <strong>notifications</strong> to break your autopilot.</p>
                        <p class="mt">Award yourself for good behaviors. Punish the bad ones.</p>
                    </div>
                </div>
                <!-- Card 14 -->
                <div class="onboarding-card" data-card="13">
                    <div class="card-content">
                        <p>At the end of each day you face a <strong class="gold">Boss Battle</strong>.</p>
                        <p class="mt">7 questions you answer truthfully.</p>
                        <p class="muted mt">You can customize 2 of them.</p>
                    </div>
                </div>
                <!-- Card 15 (Final) -->
                <div class="onboarding-card" data-card="14">
                    <div class="card-content">
                        <p>This app works <strong>offline</strong>.</p>
                        <p class="mt">No tracking. No data collection.</p>
                        <p class="muted mt">Just notifications to keep you on track.</p>
                        <button id="startJourneyBtn" class="start-btn gold-btn">BEGIN YOUR JOURNEY</button>
                    </div>
                </div>
            </div>
            <!-- Progress dots -->
            <div class="onboarding-progress" id="onboardingProgress">
                <!-- Generated dynamically -->
            </div>
            <!-- Swipe hint -->
            <div class="swipe-hint" id="swipeHint">Swipe to continue ‚Üí</div>
        </div>
    </div>

    <!-- Boss Customization Modal -->
    <div id="bossCustomizeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Boss Questions</h2>
                <button class="close-btn" data-close="bossCustomizeModal">&times;</button>
            </div>
            <div class="modal-body">
                <p class="customize-info">You can customize <span id="editLimitText">2</span> questions. Tap to edit.</p>
                <div id="questionsList" class="questions-list">
                    <!-- Questions populated dynamically -->
                </div>
                <div class="customize-actions">
                    <button id="resetQuestionsBtn" class="action-btn">Reset to Defaults</button>
                    <button id="saveQuestionsBtn" class="action-btn gold-btn">Save Changes</button>
                </div>
                <div id="proUpgradeHint" class="pro-hint">
                    <span>üîí</span> Upgrade to Pro to edit all questions
                </div>
            </div>
        </div>
    </div>

    <!-- Audio elements -->
    <audio id="expUpSound" preload="auto">
        <source src="audio/sfx_expup.ogg" type="audio/ogg">
    </audio>
    <audio id="expDownSound" preload="auto">
        <source src="audio/sfx_expdown.ogg" type="audio/ogg">
    </audio>

    <script src="app.js"></script>
</body>
</html>
